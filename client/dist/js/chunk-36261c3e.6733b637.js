(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36261c3e"],{"48ba":function(e,t,a){},bb51:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-row",{staticStyle:{"margin-bottom":"20px",height:"10vh"},attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card-home"},[a("div",{staticClass:"clearfix",staticStyle:{color:"#409EFF"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("用户总数")])]),a("div",{staticStyle:{padding:"10px 0","text-align":"center","font-weight":"bold"}},[e._v(" "+e._s(e.userNum)+" ")])])],1),a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card-home"},[a("div",{staticClass:"clearfix",staticStyle:{color:"#67C23A"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("教室总数")])]),a("div",{staticStyle:{padding:"10px 0","text-align":"center","font-weight":"bold"}},[e._v(" "+e._s(e.roomNum)+" ")])])],1),a("el-col",{attrs:{span:8}},[a("el-card",{staticClass:"box-card-home"},[a("div",{staticClass:"clearfix",staticStyle:{color:"#E6A23C"},attrs:{slot:"header"},slot:"header"},[a("span",[e._v("今日预约总数")])]),a("div",{staticStyle:{padding:"10px 0","text-align":"center","font-weight":"bold"}},[e._v(" "+e._s(e.reserveNum)+" ")])])],1)],1),a("el-row",{staticStyle:{"margin-bottom":"20px"},attrs:{gutter:10}},[a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{width:"100%",height:"30vh"},attrs:{id:"main1"}})]),a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{width:"100%",height:"30vh"},attrs:{id:"main2"}})]),a("el-col",{attrs:{span:8}},[a("div",{staticStyle:{width:"100%",height:"30vh"},attrs:{id:"main3"}})])],1),"ROLE_ADMIN"===e.userRole?a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("span",[e._v("今日预约订单")])]),a("el-table",{attrs:{data:e.tableDataToday,border:"",stripe:""}},[a("el-table-column",{attrs:{prop:"id",label:"预约单号",width:"140"}}),"ROLE_ADMIN"===e.userRole?a("el-table-column",{attrs:{prop:"username",label:"用户名称"}}):e._e(),a("el-table-column",{attrs:{prop:"roomId",label:"教室名称"}}),a("el-table-column",{attrs:{prop:"sitId",label:"座位号"}}),a("el-table-column",{attrs:{prop:"startTime",label:"开始时间"}}),a("el-table-column",{attrs:{prop:"endTime",label:"结束时间"}}),a("el-table-column",{attrs:{prop:"reservedTime",label:"预约订单时间"}}),a("el-table-column",{attrs:{label:"是否签到"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ccc",disabled:""},model:{value:t.row.checkInTime,callback:function(a){e.$set(t.row,"checkInTime",a)},expression:"scope.row.checkInTime"}})]}}],null,!1,2461167523)}),a("el-table-column",{attrs:{label:"是否取消"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ccc",disabled:""},model:{value:t.row.cancle,callback:function(a){e.$set(t.row,"cancle",a)},expression:"scope.row.cancle"}})]}}],null,!1,3930270577)}),a("el-table-column",{attrs:{label:"是否违约"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ccc",disabled:""},model:{value:t.row.breakContract,callback:function(a){e.$set(t.row,"breakContract",a)},expression:"scope.row.breakContract"}})]}}],null,!1,848823994)})],1),a("div",{staticStyle:{padding:"10px 0"}},[a("el-pagination",{attrs:{"current-page":e.pageNum,"page-sizes":[2,5,10,20],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1):e._e()],1)},r=[],l=a("313e"),i={name:"Home",data(){return{tableDataToday:[],pageNum:1,pageSize:20,name:"admin",total:0,userNum:0,roomNum:0,reserveNum:0,userRole:JSON.parse(localStorage.getItem("user")).role}},created(){this.load()},mounted(){this.echarts1(),this.echarts2(),this.echarts3()},methods:{echarts1(){var e=document.getElementById("main1"),t=l["a"](e),a={title:{text:"各季度用户数量统计",subtext:"趋势图",left:"center"},xAxis:{type:"category",data:["第一季度","第二季度","第三季度","第四季度"]},yAxis:{type:"value"},series:[{data:[],type:"line"},{data:[],type:"bar"}]};this.request.get("/echarts/members").then(e=>{a.series[0].data=e.data,a.series[1].data=e.data,t.setOption(a)}),window.addEventListener("resize",()=>{t.resize()})},echarts2(){var e=document.getElementById("main2"),t=l["a"](e),a={title:{text:"教室分类统计",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"教室间数",type:"pie",radius:["40%","60%"],data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.request.get("/home/info",{}).then(e=>{const s=[{value:e.data.smallRoom,name:"小教室"},{value:e.data.largeRoom,name:"大教室"},{value:e.data.readingRoom,name:"阅览室"},{value:e.data.library,name:"图书馆"}];a.series[0].data=s,t.setOption(a)}),window.addEventListener("resize",()=>{t.resize()})},echarts3(){var e=document.getElementById("main3"),t=l["a"](e),a={title:{text:"今日预约状态统计",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"统计单数",type:"pie",radius:"60%",data:[],emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]};this.request.get("/home/info",{}).then(e=>{const s=[{value:e.data.breakNumber,name:"已违约"},{value:e.data.cancleNumber,name:"已取消"},{value:e.data.checkInNumber,name:"已签到"},{value:e.data.otherNumber,name:"未签到"}];a.series[0].data=s,t.setOption(a)}),window.addEventListener("resize",()=>{t.resize()})},load(){this.request.get("/home/info",{}).then(e=>{this.userNum=e.data.userNumber,this.roomNum=e.data.roomNumber,this.reserveNum=e.data.reserveNumber}),this.request.get("/home/today_reserve",{params:{pageNum:this.pageNum,pageSize:this.pageSize}}).then(e=>{this.tableDataToday=e.data.records,this.total=e.data.total})},handleSizeChange(e){this.pageSize=e,this.load()},handleCurrentChange(e){this.pageNum=e,this.load()}}},o=i,n=(a("bea0"),a("2877")),c=Object(n["a"])(o,s,r,!1,null,"12008388",null);t["default"]=c.exports},bea0:function(e,t,a){"use strict";a("48ba")}}]);
//# sourceMappingURL=chunk-36261c3e.6733b637.js.map