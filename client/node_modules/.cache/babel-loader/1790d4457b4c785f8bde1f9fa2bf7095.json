{"remainingRequest":"/Users/coder/Project/ibooking/client/node_modules/babel-loader/lib/index.js!/Users/coder/Project/ibooking/client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/coder/Project/ibooking/client/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/coder/Project/ibooking/client/src/views/NewReserve.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/coder/Project/ibooking/client/src/views/NewReserve.vue","mtime":1684834977791},{"path":"/Users/coder/Project/ibooking/client/babel.config.js","mtime":1684482911978},{"path":"/Users/coder/Project/ibooking/client/node_modules/cache-loader/dist/cjs.js","mtime":1684483039090},{"path":"/Users/coder/Project/ibooking/client/node_modules/babel-loader/lib/index.js","mtime":1684483040919},{"path":"/Users/coder/Project/ibooking/client/node_modules/cache-loader/dist/cjs.js","mtime":1684483039090},{"path":"/Users/coder/Project/ibooking/client/node_modules/vue-loader/lib/index.js","mtime":1684483040328}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJOZXdSZXNlcnZlIiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG5hbWU6ICIiLAogICAgICBwYWdlTnVtOiAxLAogICAgICBwYWdlU2l6ZTogMjAsCiAgICAgIHRvdGFsOiAxMCwKICAgICAgdGFibGVEYXRhOiBbXSwKICAgICAgZGlhbG9nRm9ybVZpc2libGU6IGZhbHNlLAogICAgICBjbGFzc3Jvb206ICcnLAogICAgICBjbGFzc0RhdGE6IHt9LAogICAgICBjdXJyZW50SW5kZXg6IC0xLAogICAgICBzaXRJZDogJy0tLScsCiAgICAgIHNlbGVjdERhdGU6ICcnLAogICAgICBzZWxlY3RTdGFydDogJycsCiAgICAgIHNlbGVjdEVuZDogJycsCiAgICAgIHJvb21JZDogLTEsCiAgICAgIG9wdGlvblN0YXJ0OiAnJywKICAgICAgb3B0aW9uRW5kOiAnJwogICAgfTsKICB9LAoKICBjcmVhdGVkKCkgewogICAgdGhpcy5sb2FkKCk7CiAgICB0aGlzLmNsYXNzRGF0YSA9IFtdOwogIH0sCgogIG1ldGhvZHM6IHsKICAgIGxvYWQoKSB7CiAgICAgIHRoaXMucmVxdWVzdC5nZXQoIi9yb29tL2NoZWNrX3Jvb20iLCB7CiAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICBwYWdlTnVtOiB0aGlzLnBhZ2VOdW0sCiAgICAgICAgICBwYWdlU2l6ZTogdGhpcy5wYWdlU2l6ZSwKICAgICAgICAgIG5hbWU6IHRoaXMubmFtZQogICAgICAgIH0KICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMudGFibGVEYXRhID0gcmVzLmRhdGEucmVjb3JkczsKICAgICAgICB0aGlzLnRvdGFsID0gcmVzLmRhdGEudG90YWw7CiAgICAgIH0pOwogICAgfSwKCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5uYW1lID0gIiI7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKCiAgICBoYW5kbGVFZGl0KHJvdykgewogICAgICBpZiAoIXJvdy5hdmFpbGFibGUpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor6XmlZnlrqTkuI3lj6/nlKjvvIzor7fpgInmi6nlhbbku5bmlZnlrqQiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmNsYXNzcm9vbSA9IHJvdy5uYW1lOwogICAgICAgIHRoaXMuZGlhbG9nRm9ybVZpc2libGUgPSB0cnVlOwogICAgICAgIHRoaXMuZ2V0VGltZSgpOwogICAgICAgIHRoaXMucm9vbUlkID0gcm93LmlkOwogICAgICAgIHRoaXMubG9hZFNlYXQoKTsKICAgICAgfQogICAgfSwKCiAgICBnZXRUaW1lKCkgewogICAgICBjb25zdCBkYXRlVG9kYXkgPSBuZXcgRGF0ZSgpOwogICAgICB0aGlzLnNlbGVjdERhdGUgPSBkYXRlVG9kYXkuZ2V0RnVsbFllYXIoKSArICItIiArIChkYXRlVG9kYXkuZ2V0TW9udGgoKSArIDEpICsgIi0iICsgZGF0ZVRvZGF5LmdldERhdGUoKTsKICAgICAgdGhpcy5zZWxlY3RTdGFydCA9IGRhdGVUb2RheS5nZXRIb3VycygpICsgMSArICI6MDAiOwogICAgICB0aGlzLnNlbGVjdEVuZCA9IGRhdGVUb2RheS5nZXRIb3VycygpICsgMiArICI6MDAiOwogICAgICB0aGlzLm9wdGlvblN0YXJ0ID0gdGhpcy5zZWxlY3RTdGFydDsKICAgICAgdGhpcy5vcHRpb25FbmQgPSB0aGlzLnNlbGVjdEVuZDsKICAgIH0sCgogICAgbG9hZFNlYXQoKSB7CiAgICAgIGNvbnN0IHN0YXJ0SG91ciA9IHBhcnNlSW50KHRoaXMuc2VsZWN0U3RhcnQuc3BsaXQoIjoiKVswXSk7CiAgICAgIGNvbnN0IEVuZEhvdXIgPSBwYXJzZUludCh0aGlzLnNlbGVjdEVuZC5zcGxpdCgiOiIpWzBdKTsKCiAgICAgIGlmIChzdGFydEhvdXIgPCBFbmRIb3VyKSB7CiAgICAgICAgdGhpcy5yZXF1ZXN0LmdldCgiL3Jvb20vY2hlY2tfc2l0cyIsIHsKICAgICAgICAgIHBhcmFtczogewogICAgICAgICAgICBpZDogdGhpcy5yb29tSWQsCiAgICAgICAgICAgIGRheTogdGhpcy5zZWxlY3REYXRlLAogICAgICAgICAgICBzdGFydDogdGhpcy5zZWxlY3RTdGFydCwKICAgICAgICAgICAgZW5kOiB0aGlzLnNlbGVjdEVuZAogICAgICAgICAgfQogICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIHRoaXMuY2xhc3NEYXRhID0gcmVzLmRhdGE7CgogICAgICAgICAgaWYgKHRoaXMuY3VycmVudEluZGV4ICE9PSAtMSAmJiB0aGlzLmNsYXNzRGF0YVt0aGlzLmN1cnJlbnRJbmRleF0uYXZhaWxhYmxlID09PSBmYWxzZSkgewogICAgICAgICAgICB0aGlzLnNpdElkID0gIi0tLSI7CiAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gLTE7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCgogICAgaGFuZGxlU2l6ZUNoYW5nZShwYWdlU2l6ZSkgewogICAgICB0aGlzLnBhZ2VTaXplID0gcGFnZVNpemU7CiAgICAgIHRoaXMubG9hZCgpOwogICAgfSwKCiAgICBoYW5kbGVDdXJyZW50Q2hhbmdlKHBhZ2VOdW0pIHsKICAgICAgdGhpcy5wYWdlTnVtID0gcGFnZU51bTsKICAgICAgdGhpcy5sb2FkKCk7CiAgICB9LAoKICAgIHNhdmUoKSB7CiAgICAgIGNvbnN0IHN0YXJ0SG91ciA9IHBhcnNlSW50KHRoaXMuc2VsZWN0U3RhcnQuc3BsaXQoIjoiKVswXSk7CiAgICAgIGNvbnN0IEVuZEhvdXIgPSBwYXJzZUludCh0aGlzLnNlbGVjdEVuZC5zcGxpdCgiOiIpWzBdKTsKCiAgICAgIGlmIChzdGFydEhvdXIgPiBFbmRIb3VyKSB7CiAgICAgICAgdGhpcy4kbWVzc2FnZS5lcnJvcigi5pe26Ze06YCJ5oup5pyJ6K+vIik7CiAgICAgIH0gZWxzZSBpZiAoRW5kSG91ciAtIHN0YXJ0SG91ciA+IDQpIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLotoXlh7o05bCP5pe25pe26Ze06IyD5Zu0Iik7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5yZXF1ZXN0LnBvc3QoIi9yZXNlcnZlL2NyZWF0ZV9yZXNlcnZlIiwgewogICAgICAgICAgdXNlcm5hbWU6IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0oInVzZXIiKSkudXNlcm5hbWUsCiAgICAgICAgICByb29tSWQ6IHRoaXMucm9vbUlkLAogICAgICAgICAgc2l0SWQ6IHRoaXMuc2l0SWQsCiAgICAgICAgICBzdGFydFRpbWU6IHRoaXMuc2VsZWN0RGF0ZSArICIgIiArIHRoaXMuc2VsZWN0U3RhcnQsCiAgICAgICAgICBlbmRUaW1lOiB0aGlzLnNlbGVjdERhdGUgKyAiICIgKyB0aGlzLnNlbGVjdEVuZAogICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gJzIwMCcpIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCLpooTnuqbmiJDlip8iKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoIumihOe6puWksei0pe+8jOivt+mHjeaWsOmAieW6pyIpOwogICAgICAgICAgfQoKICAgICAgICAgIHRoaXMubG9hZFNlYXQoKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBzZWxlY3RDbGFzcyhpbmRleCkgewogICAgICBpZiAodGhpcy5jbGFzc0RhdGFbaW5kZXhdLmF2YWlsYWJsZSA9PT0gdHJ1ZSkgewogICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7CiAgICAgICAgdGhpcy5zaXRJZCA9IHRoaXMuY2xhc3NEYXRhW2luZGV4XS5pZDsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLmVycm9yKCLor6XluqfkvY3lt7LooqvljaAiKTsKICAgICAgfQogICAgfQoKICB9Cn07"},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoIA;EACAA,kBADA;;EAEAC;IACA;MACAD,QADA;MAEAE,UAFA;MAGAC,YAHA;MAIAC,SAJA;MAKAC,aALA;MAMAC,wBANA;MAOAC,aAPA;MAQAC,aARA;MASAC,gBATA;MAUAC,YAVA;MAWAC,cAXA;MAYAC,eAZA;MAaAC,aAbA;MAcAC,UAdA;MAeAC,eAfA;MAgBAC;IAhBA;EAkBA,CArBA;;EAsBAC;IACA;IACA;EACA,CAzBA;;EA0BAC;IACAC;MACA;QACAC;UACAlB,qBADA;UAEAC,uBAFA;UAGAH;QAHA;MADA,GAMAqB,IANA,CAMAC;QACA;QACA;MACA,CATA;IAWA,CAbA;;IAcAC;MACA;MACA;IACA,CAjBA;;IAkBAC;MACA;QACA;MACA,CAFA,MAEA;QACA;QACA;QACA;QACA;QACA;MACA;IAEA,CA7BA;;IA8BAC;MACA;MACA;MACA;MACA;MACA;MACA;IACA,CArCA;;IAsCAC;MACA;MACA;;MACA;QACA;UACAN;YACAO,eADA;YAEAC,oBAFA;YAGAC,uBAHA;YAIAC;UAJA;QADA,GAOAT,IAPA,CAOAC;UACA;;UACA;YACA;YACA;UACA;QACA,CAbA;MAcA;IAEA,CA1DA;;IA2DAS;MACA;MACA;IACA,CA9DA;;IA+DAC;MACA;MACA;IACA,CAlEA;;IAmEAC;MACA;MACA;;MACA;QACA;MACA,CAFA,MAEA;QACA;MACA,CAFA,MAEA;QACA;UACAC,2DADA;UAEApB,mBAFA;UAGAJ,iBAHA;UAIAyB,mDAJA;UAKAC;QALA,GAMAf,IANA,CAMAC;UACA;YACA;UACA,CAFA,MAEA;YACA;UACA;;UACA;QACA,CAbA;MAcA;IACA,CA1FA;;IA2FAe;MACA;QACA;QACA;MACA,CAHA,MAGA;QACA;MACA;IAEA;;EAnGA;AA1BA","names":["name","data","pageNum","pageSize","total","tableData","dialogFormVisible","classroom","classData","currentIndex","sitId","selectDate","selectStart","selectEnd","roomId","optionStart","optionEnd","created","methods","load","params","then","res","reset","handleEdit","getTime","loadSeat","id","day","start","end","handleSizeChange","handleCurrentChange","save","username","startTime","endTime","selectClass"],"sourceRoot":"src/views","sources":["NewReserve.vue"],"sourcesContent":["<template>\n    <div>\n        <div style=\"padding: 10px 0;\">\n            <el-input style=\"width: 200px\" suffix-icon=\"el-icon-search\" placeholder=\"搜索教室\" v-model=\"name\"></el-input>\n            <el-button style=\"margin-left: 5px;\" type=\"primary\" @click=\"load\">搜索</el-button>\n            <el-button @click=\"reset\">重置</el-button>\n        </div>\n        <el-table :data=\"tableData\" border stripe>\n\n            <el-table-column prop=\"id\" label=\"教室ID\">\n            </el-table-column>\n            <el-table-column prop=\"name\" label=\"教室名称\">\n            </el-table-column>\n            <el-table-column prop=\"type\" label=\"教室类型\">\n            </el-table-column>\n            <el-table-column label=\"是否可用\">\n                <template slot-scope=\"scope\">\n                    <el-switch v-model=\"scope.row.available\" active-color=\"#13ce66\" inactive-color=\"#ccc\"\n                        disabled></el-switch>\n                </template>\n            </el-table-column>\n            <el-table-column prop=\"openTime\" label=\"开放时间\">\n            </el-table-column>\n            <el-table-column prop=\"closeTime\" label=\"关闭时间\">\n            </el-table-column>\n            <el-table-column prop=\"option\" label=\"操作\">\n                <template slot-scope=\"scope\">\n                    <el-button @click=\"handleEdit(scope.row)\">预约 <i class=\"el-icon-s-check\"></i></el-button>\n                </template>\n            </el-table-column>\n        </el-table>\n\n        <div style=\"padding: 10px 0;\">\n            <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"pageNum\"\n                :page-sizes=\"[2, 5, 10, 20]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\n                :total=\"total\">\n            </el-pagination>\n        </div>\n\n        <el-dialog title=\"座位预定\" :visible.sync=\"dialogFormVisible\" width=\"70%\">\n            <el-row :gutter=\"20\" style=\"margin-bottom: 20px; height: auto;\">\n                <el-col :span=\"18\" style=\"height: 100%;\">\n                    <el-card class=\"box-card-home\" style=\"height: 100%;\">\n                        <div slot=\"header\" class=\"clearfix\" style=\"color: #409EFF; height: 10%;\">\n                            <span>教室名称：{{ classroom }}</span>\n                        </div>\n                        <div style=\"height: 90%;\">\n\n                            <!-- 选座位 -->\n                            <div style=\"display: flex; flex-wrap: wrap; cursor: pointer; flex: 80%\">\n                                <div :class=\"[index === currentIndex ? 'select-class' : 'class-item']\"\n                                    @click=\"selectClass(index)\" style=\"  margin-bottom: 20px;\"\n                                    v-for=\"(item, index) in classData\" :key=\"index\">\n                                    <div v-if=\"!item.available\" class=\"seat-locked\">\n                                        {{ classData[index].id }}\n                                    </div>\n                                    <div v-else-if=\"item.chargeport\"\n                                        :class=\"[index === currentIndex ? 'select-class' : 'class-item2']\">\n                                        {{ classData[index].id }}\n                                    </div>\n                                    <div v-else>\n                                        {{ classData[index].id }}\n                                    </div>\n                                </div>\n                            </div>\n\n                        </div>\n\n                    </el-card>\n                </el-col>\n\n                <el-col :span=\"6\" style=\"height: 100%;\">\n                    <el-form label-width=\"30%\">\n                        <el-form-item label=\"日期选择\">\n                            <el-date-picker v-model=\"selectDate\" type=\"date\" style=\"width: 80%;\">\n                            </el-date-picker>\n                        </el-form-item>\n\n                        <el-form-item label=\"开始时间\">\n                            <el-time-select v-model=\"selectStart\" :picker-options=\"{\n                                start: optionStart,\n                                step: '01:00',\n                                end: '21:00'\n                            }\" \n                            style=\"width: 80%;\"\n                            @change=\"loadSeat()\">\n                            </el-time-select>\n                        </el-form-item>\n\n                        <el-form-item label=\"结束时间\">\n                            <el-time-select v-model=\"selectEnd\" :picker-options=\"{\n                                start: optionEnd,\n                                step: '01:00',\n                                end: '22:00'\n                            }\"\n                            style=\"width: 80%;\" \n                            @change=\"loadSeat()\">\n                            </el-time-select>\n                        </el-form-item>\n\n                        <el-form-item label=\"座位选择\">\n                            <div style=\"color: rgb(0, 0, 0)\">\n                                {{ sitId }} 号\n                            </div>\n                        </el-form-item>\n                    </el-form>\n                    <div style=\"padding: 15px; \">\n                        <div style=\"margin-top: 10px\">\n                            <span class=\"status-dot\"></span>空闲-有插座\n                        </div>\n                        <div style=\"margin-top: 10px\">\n                            <span class=\"status-dot\" style=\"background-color: #8a8a8a;\"></span>空闲-无插座\n                        </div>\n                        <div style=\"margin-top: 10px\">\n                            <span class=\"status-dot\" style=\"background-color: #d81e06;\"></span>已被占\n                        </div>\n                        <div style=\"margin-top: 10px\">\n                            <span class=\"status-dot\" style=\"background-color: #43d828;\"></span>选中\n                        </div>\n                    </div>\n                </el-col>\n\n            </el-row>\n            <div slot=\"footer\" class=\"dialog-footer\">\n                <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n                <el-button type=\"primary\" @click=\"save\">确 定</el-button>\n            </div>\n        </el-dialog>\n    </div>\n</template>\n  \n<script>\nexport default {\n    name: \"NewReserve\",\n    data() {\n        return {\n            name: \"\",\n            pageNum: 1,\n            pageSize: 20,\n            total: 10,\n            tableData: [],\n            dialogFormVisible: false,\n            classroom: '',\n            classData: {},\n            currentIndex: -1,\n            sitId: '---',\n            selectDate: '',\n            selectStart: '',\n            selectEnd: '',\n            roomId: -1,\n            optionStart: '',\n            optionEnd: ''\n        }\n    },\n    created() {\n        this.load()\n        this.classData = []\n    },\n    methods: {\n        load() {\n            this.request.get(\"/room/check_room\", {\n                params: {\n                    pageNum: this.pageNum,\n                    pageSize: this.pageSize,\n                    name: this.name\n                }\n            }).then(res => {\n                this.tableData = res.data.records\n                this.total = res.data.total\n            })\n\n        },\n        reset() {\n            this.name = \"\"\n            this.load()\n        },\n        handleEdit(row) {\n            if (!row.available) {\n                this.$message.error(\"该教室不可用，请选择其他教室\")\n            } else {\n                this.classroom = row.name\n                this.dialogFormVisible = true\n                this.getTime()\n                this.roomId = row.id\n                this.loadSeat()\n            }\n\n        },\n        getTime() {\n            const dateToday = new Date()\n            this.selectDate = dateToday.getFullYear() + \"-\" + (dateToday.getMonth() + 1) + \"-\" + dateToday.getDate()\n            this.selectStart = dateToday.getHours() + 1 + \":00\"\n            this.selectEnd = dateToday.getHours() + 2 + \":00\"\n            this.optionStart = this.selectStart\n            this.optionEnd = this.selectEnd\n        },\n        loadSeat() {\n            const startHour = parseInt(this.selectStart.split(\":\")[0])\n            const EndHour = parseInt(this.selectEnd.split(\":\")[0])\n            if (startHour < EndHour) {\n                this.request.get(\"/room/check_sits\", {\n                    params: {\n                        id: this.roomId,\n                        day: this.selectDate,\n                        start: this.selectStart,\n                        end: this.selectEnd,\n                    }\n                }).then(res => {\n                    this.classData = res.data\n                    if (this.currentIndex !== -1 && this.classData[this.currentIndex].available === false) {\n                        this.sitId = \"---\"\n                        this.currentIndex = -1\n                    }\n                })\n            }\n\n        },\n        handleSizeChange(pageSize) {\n            this.pageSize = pageSize\n            this.load()\n        },\n        handleCurrentChange(pageNum) {\n            this.pageNum = pageNum\n            this.load()\n        },\n        save() {\n            const startHour = parseInt(this.selectStart.split(\":\")[0])\n            const EndHour = parseInt(this.selectEnd.split(\":\")[0])\n            if (startHour > EndHour) {\n                this.$message.error(\"时间选择有误\")\n            } else if (EndHour - startHour > 4) {\n                this.$message.error(\"超出4小时时间范围\")\n            } else {\n                this.request.post(\"/reserve/create_reserve\", {\n                    username: JSON.parse(localStorage.getItem(\"user\")).username,\n                    roomId: this.roomId,\n                    sitId: this.sitId,\n                    startTime: this.selectDate + \" \" + this.selectStart,\n                    endTime: this.selectDate + \" \" + this.selectEnd\n                }).then(res => {\n                    if (res.code === '200') {\n                        this.$message.success(\"预约成功\")\n                    } else {\n                        this.$message.error(\"预约失败，请重新选座\")\n                    }\n                    this.loadSeat()\n                })\n            }\n        },\n        selectClass(index) {\n            if (this.classData[index].available === true) {\n                this.currentIndex = index\n                this.sitId = this.classData[index].id\n            } else {\n                this.$message.error(\"该座位已被占\")\n            }\n\n        },\n\n    }\n}\n</script>\n\n<style>\n.status-dot {\n    display: inline-block;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    background-color: #2c2c2c;\n    margin-right: 5px;\n    vertical-align: middle;\n    /* 将垂直对齐方式设置为 middle */\n}\n\n.select-class {\n    border-radius: 13px;\n    color: white;\n    height: 50px;\n    background-image: url(../assets/seatselecting.png);\n    background-repeat: no-repeat;\n    background-position: top;\n    width: 19%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n\n}\n\n.class-item {\n    border-radius: 13px;\n    color: white;\n    height: 50px;\n    background-image: url(../assets/seatfreewithoutplug.png);\n    background-repeat: no-repeat;\n    background-position: top;\n    width: 19%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n}\n\n.class-item2 {\n    background-image: url(../assets/seatfreewithplug.png);\n    background-repeat: no-repeat;\n    background-position: top;\n    width: 100%;\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center\n}\n\n.prompt-text {\n    margin: 0 10px;\n    padding: 8px;\n    background: rgb(179, 216, 255);\n    color: rgb(83, 168, 255);\n    border-radius: 15px\n}\n\n.seat-locked {\n    background-image: url(../assets/seatlocked.png);\n    background-repeat: no-repeat;\n    background-position: top;\n    width: 100%;\n    height: 100%;\n    border-radius: 15px;\n    display: flex;\n    justify-content: center;\n    align-items: center\n}\n</style>\n  "]}]}